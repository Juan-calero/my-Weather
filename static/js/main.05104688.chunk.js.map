{"version":3,"sources":["components/utils/utils.js","components/0.search/search.module.scss","components/utils/useFetch.js","img/sValK.webp","components/0.search/SearchForm.js","components/0.search/Search.js","components/utils/useViewport.js","App.js","index.js"],"names":["__webpack_require__","d","__webpack_exports__","MyContext","SearchContext","cardDynamicBg","dayOfTheWeek","easySearch","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","React","createContext","tMax","index","now","Date","i","getDay","local","value","toLowerCase","normalize","replace","module","exports","button","search","search__form","search__suggestions","formBtn","useFetch","url","_useState","useState","_useState2","Object","D_Ambiente_de_Trabalho_CODE_my_weather_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","fetched","setFetched","getfetched","_ref","D_Ambiente_de_Trabalho_CODE_my_weather_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Ambiente_de_Trabalho_CODE_my_weather_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","response","_fetched","wrap","_context","prev","next","fetch","sent","json","data","stop","apply","this","arguments","useEffect","p","Suggestions","lazy","e","then","bind","SearchForm","_useContext","useContext","handleSubmit","setValue","suggestions","handleSuggestions","react_default","createElement","className","id","onSubmit","placeholder","aria-label","type","onChange","target","concat","length","react","fallback","Search","setLocal","slicedToArray","_useState3","_useState4","setSuggestions","utils","Provider","filter","_ref2","includes","preventDefault","forEach","globalIdLocal","name","document","title","_0_search_SearchForm","useViewport","window","innerWidth","width","setWidth","handleResize","addEventListener","removeEventListener","Detail","PhoneCards","Cards","App","bigCard","setBigCard","loading","src","TurnDevice","alt","ReactDOM","render","StrictMode","src_App","getElementById"],"mappings":"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","file":"static/js/main.05104688.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nexport const MyContext = React.createContext()\r\nexport const SearchContext = React.createContext()\r\n\r\nexport function cardDynamicBg(tMax) {\r\n  return tMax > 30\r\n    ? \"hot\"\r\n    : tMax > 25\r\n    ? \"warmer\"\r\n    : tMax > 20\r\n    ? \"warm\"\r\n    : tMax > 15\r\n    ? \"cooler\"\r\n    : tMax > 10\r\n    ? \"cool\"\r\n    : tMax > 5\r\n    ? \"cold\"\r\n    : tMax > 0\r\n    ? \"colder\"\r\n    : \"freeze\"\r\n}\r\n\r\nexport function dayOfTheWeek(index) {\r\n  const arr = [\r\n    \"Sunday\",\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Friday\",\r\n    \"Saturday\",\r\n  ]\r\n  const now = new Date()\r\n  let i = now.getDay()\r\n  return now.getDay() === i + index ? \"Today\" : arr[(i + index) % 7]\r\n}\r\n\r\nexport function easySearch(local, value) {\r\n  return (\r\n    value\r\n      .toLowerCase()\r\n      .normalize(\"NFD\")\r\n      .replace(/[\\u0300-\\u036f]/g, \"\") ===\r\n    local\r\n      .toLowerCase()\r\n      .normalize(\"NFD\")\r\n      .replace(/[\\u0300-\\u036f]/g, \"\")\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"search_button__2e9CU\",\"search\":\"search_search__1DGH9\",\"search__form\":\"search_search__form__2I7YC\",\"search__suggestions\":\"search_search__suggestions__27jpd\",\"formBtn\":\"search_formBtn__Gdy7S\"};","import { useState, useEffect } from \"react\"\r\n\r\nfunction useFetch(url) {\r\n  const [fetched, setFetched] = useState([])\r\n  const getfetched = async () => {\r\n    if (url) {\r\n      const response = await fetch(url)\r\n      const fetched = await response.json()\r\n      setFetched(fetched.data)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    getfetched()\r\n  }, [url])\r\n  return { fetched }\r\n}\r\n\r\nexport default useFetch\r\n","module.exports = __webpack_public_path__ + \"static/media/sValK.38b6229a.webp\";","import React, { useContext, Suspense } from \"react\"\r\nimport { SearchContext } from \"../utils/utils\"\r\nimport {\r\n  formBtn,\r\n  search__form,\r\n  search__suggestions,\r\n  search,\r\n} from \"./search.module.scss\"\r\nconst Suggestions = React.lazy(() => import(\"./Suggestions\"))\r\n\r\nfunction SearchForm() {\r\n  const { value, handleSubmit, setValue, suggestions, handleSuggestions } =\r\n    useContext(SearchContext)\r\n\r\n  return (\r\n    <section className={search}>\r\n      <h1>Search District/Island</h1>\r\n      <form id='searchForm' className={search__form} onSubmit={handleSubmit}>\r\n        <input\r\n          placeholder='District/Island'\r\n          aria-label='Search'\r\n          type='search'\r\n          value={value}\r\n          onChange={({ target }) => {\r\n            setValue(target.value)\r\n            handleSuggestions(target.value)\r\n          }}\r\n        />\r\n        <button className={`button ${formBtn}`}>Go</button>\r\n        {suggestions.length !== 0 && (\r\n          <Suspense\r\n            fallback={\r\n              <div className={search__suggestions}>\r\n                <button className='button'>Loading...</button>\r\n              </div>\r\n            }>\r\n            <Suggestions setValue={setValue} suggestions={suggestions} />\r\n          </Suspense>\r\n        )}\r\n      </form>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default SearchForm\r\n","import React, { useState, useContext } from \"react\"\r\nimport { easySearch, MyContext, SearchContext } from \"../utils/utils\"\r\nimport useFetch from \"../utils/useFetch\"\r\nimport SearchForm from \"./SearchForm\"\r\n\r\nexport default function Search() {\r\n  const { fetched } = useFetch(\r\n    \"https://api.ipma.pt/open-data/distrits-islands.json\"\r\n  )\r\n  const { setLocal } = useContext(MyContext)\r\n  const [value, setValue] = useState(\"\")\r\n  const [suggestions, setSuggestions] = useState([])\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    fetched.forEach(({ globalIdLocal, local }) => {\r\n      if (easySearch(local, value)) {\r\n        setLocal({\r\n          id: `https://api.ipma.pt/open-data/forecast/meteorology/cities/daily/${globalIdLocal}.json`,\r\n          name: local,\r\n        })\r\n        document.title = `JC Weather App  | ${local}`\r\n        setSuggestions([])\r\n      }\r\n    })\r\n  }\r\n  const handleSuggestions = (target) => {\r\n    setSuggestions(\r\n      target\r\n        ? fetched.filter(({ local }) => {\r\n            return local.toLowerCase().includes(target.toLowerCase())\r\n          })\r\n        : []\r\n    )\r\n  }\r\n\r\n  return (\r\n    <SearchContext.Provider\r\n      value={{\r\n        handleSuggestions,\r\n        suggestions,\r\n        setValue,\r\n        handleSubmit,\r\n        value,\r\n      }}>\r\n      <SearchForm />\r\n    </SearchContext.Provider>\r\n  )\r\n}\r\n","import { useState, useEffect } from \"react\"\r\n\r\nfunction useViewport() {\r\n  const [width, setWidth] = useState(window.innerWidth)\r\n  const handleResize = () => {\r\n    setWidth(window.innerWidth)\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleResize)\r\n    return () => window.removeEventListener(\"resize\", handleResize)\r\n  }, [])\r\n\r\n  return { width }\r\n}\r\n\r\nexport default useViewport\r\n","import \"./App.scss\"\nimport React, { useState, Suspense } from \"react\"\nimport Search from \"./components/0.search/Search\"\nimport { MyContext } from \"./components/utils/utils\"\nimport useViewport from \"./components/utils/useViewport.js\"\nimport TurnDevice from \"./img/sValK.webp\"\nconst Detail = React.lazy(() => import(\"./components/2.info/Detail\"))\nconst PhoneCards = React.lazy(() => import(\"./components/PhoneCard/PhoneCards\"))\nconst Cards = React.lazy(() => import(\"./components/1.cards/Cards\"))\n\nfunction App() {\n  const [bigCard, setBigCard] = useState({ index: 0 })\n  const [local, setLocal] = useState({\n    id: `https://api.ipma.pt/open-data/forecast/meteorology/cities/daily/1110600.json`,\n    name: \"Lisboa\",\n  })\n  const { width } = useViewport()\n\n  return (\n    <MyContext.Provider\n      value={{\n        bigCard,\n        setBigCard,\n        local,\n        setLocal,\n      }}>\n      <img\n        loading='lazy'\n        className='turnDevice'\n        src={TurnDevice}\n        alt='Please Turn Your Device'\n      />\n      <Search />\n      {width > 1023 ? (\n        <Suspense fallback={<div></div>}>\n          <Cards />\n          <Detail />\n        </Suspense>\n      ) : (\n        <Suspense fallback={<div></div>}>\n          <PhoneCards />\n        </Suspense>\n      )}\n    </MyContext.Provider>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}